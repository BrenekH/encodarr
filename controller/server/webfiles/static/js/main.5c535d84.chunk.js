(this["webpackJsonpredcedar-react-frontend-test"]=this["webpackJsonpredcedar-react-frontend-test"]||[]).push([[0],{30:function(e,t,n){},50:function(e,t,n){},69:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);n(45);var a=n(0),i=n.n(a),s=n(21),r=n.n(s),c=(n(50),n(10)),l=n(11),o=n(13),u=n(12),j=n(19),h=n(14),d=n(15),b=n.n(d),O=n(18),v=n(16),m=n(32),x=n(44),p=(n(69),n(1));function g(e){return Object(p.jsx)("img",{className:"queue-icon",src:e.location,alt:e.alt,height:"20px",title:e.title})}var f=n.p+"static/media/headphones.d0211b61.svg";function k(){return Object(p.jsx)(g,{location:f,alt:"Headphones",title:"An additional stereo audio track will be created"})}var y=n.p+"static/media/play_button.a97890f5.svg";function I(){return Object(p.jsx)(g,{location:y,alt:"Play Button",title:"File will be encoded to HEVC"})}n(71),n(30);var C=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).timerID=void 0,a.state={jobs:[],waitingOnServer:!0},a.timerID=setTimeout((function(){}),Number.POSITIVE_INFINITY),clearInterval(a.timerID),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.tick(),this.timerID=setInterval((function(){return e.tick()}),2e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){var e=this;b.a.get("/api/web/v1/running").then((function(t){var n=t.data.jobs;void 0!==n?(n.sort((function(e,t){return parseFloat(e.status.percentage)>parseFloat(t.status.percentage)?-1:1})),e.setState({jobs:n,waitingOnServer:!1})):console.error("Response from /api/web/v1/running returned undefined for data.jobs")})).catch((function(e){console.error("Request to /api/web/v1/running failed with error: ".concat(e))}))}},{key:"render",value:function(){var e=this.state.jobs.map((function(e){return Object(p.jsx)(S,{fps:e.status.fps,uuid:e.job.uuid,filename:e.job.path,progress:e.status.percentage,runnerName:e.runner_name,stageValue:e.status.stage,jobElapsedTime:e.status.job_elapsed_time,stageElapsedTime:e.status.stage_elapsed_time,stageEstimatedTimeRemaining:e.status.stage_estimated_time_remaining,videoOperation:e.job.parameters.hevc,audioOperation:e.job.parameters.stereo},e.job.uuid)}));return Object(p.jsx)("div",{children:0!==e.length?e:Object(p.jsx)("h5",{className:"text-center",children:"No running jobs"})})}}]),n}(i.a.Component);function S(e){return console.log(e),Object(p.jsxs)("div",{children:[Object(p.jsxs)(O.a,{style:{padding:"1rem"},children:[Object(p.jsxs)(O.a.Header,{className:"text-center",children:[Object(p.jsxs)("div",{className:"file-image-container",children:[Object(p.jsx)("h5",{children:e.filename}),Object(p.jsxs)("div",{className:"svg-flex-container",children:[e.videoOperation?Object(p.jsx)(I,{}):null,e.audioOperation?Object(p.jsx)(k,{}):null]})]}),Object(p.jsxs)("h6",{children:["Stage: ",e.stageValue]}),Object(p.jsxs)("h6",{children:["Runner: ",e.runnerName]})]}),Object(p.jsx)(x.a,{className:"progress-bar-style",animated:!0,now:parseFloat(e.progress),label:"".concat(e.progress,"%")}),Object(p.jsxs)(m.a,{children:[Object(p.jsx)(v.a,{children:Object(p.jsx)("h6",{className:"text-right",children:"Job Elapsed Time:"})}),Object(p.jsx)(v.a,{children:Object(p.jsx)("p",{children:e.jobElapsedTime})}),Object(p.jsx)(v.a,{children:Object(p.jsx)("h6",{className:"text-right",children:"FPS:"})}),Object(p.jsx)(v.a,{children:Object(p.jsx)("p",{children:e.fps})})]}),Object(p.jsxs)(m.a,{children:[Object(p.jsx)(v.a,{children:Object(p.jsx)("h6",{className:"text-right",children:"Stage Elapsed Time:"})}),Object(p.jsx)(v.a,{children:Object(p.jsx)("p",{children:e.stageElapsedTime})}),Object(p.jsx)(v.a,{children:Object(p.jsx)("h6",{className:"text-right",children:"Stage Estimated Time Remaining:"})}),Object(p.jsx)(v.a,{children:Object(p.jsx)("p",{children:e.stageEstimatedTimeRemaining})})]})]}),Object(p.jsx)("div",{className:"smol-spacer"})]})}var w=n(26),N=(n(72),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).timerID=void 0,a.state={jobs:[],waitingOnServer:!0},a.timerID=setTimeout((function(){}),Number.POSITIVE_INFINITY),clearInterval(a.timerID),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.tick(),this.timerID=setInterval((function(){return e.tick()}),2e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){var e=this;b.a.get("/api/web/v1/queue").then((function(t){var n=t.data.queue;void 0!==n?e.setState({jobs:n,waitingOnServer:!1}):console.error("Response from /api/web/v1/queue returned undefined for data.queue")})).catch((function(e){console.error("Request to /api/web/v1/queue failed with error: ".concat(e))}))}},{key:"render",value:function(){var e=this.state.jobs.map((function(e,t){return Object(p.jsx)(T,{index:t+1,path:e.path,videoOperation:e.parameters.hevc,audioOperation:e.parameters.stereo},e.uuid)})),t=Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"row",children:"-"}),Object(p.jsx)("td",{children:"Waiting on server"})]});return Object(p.jsx)(O.a,{children:Object(p.jsxs)(w.a,{hover:!0,size:"sm",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"col",children:"#"}),Object(p.jsx)("th",{scope:"col",children:"File"})]})}),Object(p.jsx)("tbody",{children:this.state.waitingOnServer?t:e})]})})}}]),n}(i.a.Component));function T(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"row",children:e.index}),Object(p.jsx)("td",{children:e.path}),Object(p.jsx)("td",{children:Object(p.jsxs)("div",{className:"queue-icon-container",children:[e.videoOperation?Object(p.jsx)("span",{className:"play-button-image",children:Object(p.jsx)(I,{})}):null,e.audioOperation?Object(p.jsx)(k,{}):null]})})]})}var R=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).timerID=void 0,a.state={jobs:[],waitingOnServer:!0},a.timerID=setTimeout((function(){}),Number.POSITIVE_INFINITY),clearInterval(a.timerID),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.tick(),this.timerID=setInterval((function(){return e.tick()}),2e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){var e=this;b.a.get("/api/web/v1/history").then((function(t){var n=t.data.history;void 0!==n?(n.reverse(),e.setState({jobs:n,waitingOnServer:!1})):console.error("Response from /api/web/v1/history returned undefined for data.history")})).catch((function(e){console.error("Request to /api/web/v1/history failed with error: ".concat(e))}))}},{key:"render",value:function(){var e=this.state.jobs.map((function(e,t){return Object(p.jsx)(V,{datetime:e.datetime_completed,file:e.file},t)})),t=Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"row",children:"-"}),Object(p.jsx)("td",{children:"Waiting on server"})]});return Object(p.jsx)(O.a,{children:Object(p.jsxs)(w.a,{hover:!0,size:"sm",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"col",children:"Time Completed"}),Object(p.jsx)("th",{scope:"col",children:"File"})]})}),Object(p.jsx)("tbody",{children:this.state.waitingOnServer?t:e})]})})}}]),n}(i.a.Component);function V(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.datetime}),Object(p.jsx)("td",{children:e.file})]})}var F=n(24),E=n(43),P=n(6),D=n(22),H=(n(73),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={inputValues:{fsCheckInterval:"",smallerFilesCheck:!1,healthCheckInterval:"",unresponsiveRunnerTimeout:"",logVerbosity:""},showSavedIndicator:!1},a.handleClick=a.handleClick.bind(Object(F.a)(a)),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.updateSettings()}},{key:"createChangeHandler",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=function(a){var i=Object.assign({},t.state.inputValues);i[e]=n?a.target.checked:a.target.value,t.setState({inputValues:i})};return a.bind(this),a}},{key:"handleClick",value:function(){var e=this;b.a.put("/api/web/v1/settings",{FileSystemCheckInterval:this.state.inputValues.fsCheckInterval,SmallerFiles:this.state.inputValues.smallerFilesCheck,HealthCheckInterval:this.state.inputValues.healthCheckInterval,HealthCheckTimeout:this.state.inputValues.unresponsiveRunnerTimeout,LogVerbosity:this.state.inputValues.logVerbosity}).then((function(t){t.status>=200&&t.status<=299?e.setState({showSavedIndicator:!0}):console.error(t),e.updateSettings()}))}},{key:"updateSettings",value:function(){var e=this;b.a.get("/api/web/v1/settings").then((function(t){e.setState({inputValues:{fsCheckInterval:t.data.FileSystemCheckInterval,smallerFilesCheck:t.data.SmallerFiles,healthCheckInterval:t.data.HealthCheckInterval,unresponsiveRunnerTimeout:t.data.HealthCheckTimeout,logVerbosity:t.data.LogVerbosity}})}))}},{key:"render",value:function(){var e=this,t=this.state.showSavedIndicator?Object(p.jsx)(q,{}):null;return this.state.showSavedIndicator&&setTimeout((function(){e.setState({showSavedIndicator:!1})}),5e3),Object(p.jsxs)("div",{children:[Object(p.jsx)("h5",{children:"General"}),Object(p.jsxs)(P.a,{className:"mb-3",children:[Object(p.jsx)(P.a.Prepend,{children:Object(p.jsx)(P.a.Text,{children:"File System Scan Interval"})}),Object(p.jsx)(D.a,{className:"dark-text-input",placeholder:"0h0m0s","aria-label":"fs-check-interval","aria-describedby":"basic-addon1",onChange:this.createChangeHandler("fsCheckInterval"),value:this.state.inputValues.fsCheckInterval})]}),Object(p.jsxs)(P.a,{className:"mb-3",children:[Object(p.jsxs)(P.a.Prepend,{children:[Object(p.jsx)(P.a.Text,{children:"Prefer Smaller Files"}),Object(p.jsx)(P.a.Checkbox,{"aria-label":"Prefer Smaller Files Checkbox",onChange:this.createChangeHandler("smallerFilesCheck",!0),value:this.state.inputValues.smallerFilesCheck})]}),Object(p.jsx)(D.a,{className:"dark-text-input",value:"Only keep encoded files if they are smaller than the original.",disabled:!0,readOnly:!0})]}),Object(p.jsx)("div",{className:"spacer"}),Object(p.jsx)("h5",{children:"Runner Health"}),Object(p.jsxs)(P.a,{className:"mb-3",children:[Object(p.jsx)(P.a.Prepend,{children:Object(p.jsx)(P.a.Text,{children:"Runner Health Check Interval"})}),Object(p.jsx)(D.a,{className:"dark-text-input",placeholder:"0h0m0s","aria-label":"health-check-interval","aria-describedby":"basic-addon1",onChange:this.createChangeHandler("healthCheckInterval"),value:this.state.inputValues.healthCheckInterval})]}),Object(p.jsxs)(P.a,{className:"mb-3",children:[Object(p.jsx)(P.a.Prepend,{children:Object(p.jsx)(P.a.Text,{children:"Unresponsive Runner Timeout"})}),Object(p.jsx)(D.a,{className:"dark-text-input",placeholder:"0h0m0s","aria-label":"unresponsive-runner-timeout","aria-describedby":"basic-addon1",onChange:this.createChangeHandler("unresponsiveRunnerTimeout"),value:this.state.inputValues.unresponsiveRunnerTimeout})]}),Object(p.jsx)("div",{className:"spacer"}),Object(p.jsx)("h5",{children:"Logging"}),Object(p.jsxs)(P.a,{className:"mb-3",children:[Object(p.jsx)(P.a.Prepend,{children:Object(p.jsx)(P.a.Text,{children:"Log Verbosity"})}),Object(p.jsxs)(D.a,{className:"dark-text-input no-box-shadow",as:"select",custom:!0,onChange:this.createChangeHandler("logVerbosity"),value:this.state.inputValues.logVerbosity,children:[Object(p.jsx)("option",{value:"TRACE",children:"Trace"}),Object(p.jsx)("option",{value:"DEBUG",children:"Debug"}),Object(p.jsx)("option",{value:"INFO",children:"Info"}),Object(p.jsx)("option",{value:"WARNING",children:"Warning"}),Object(p.jsx)("option",{value:"ERROR",children:"Error"}),Object(p.jsx)("option",{value:"CRITICAL",children:"Critical"})]})]}),Object(p.jsx)("div",{className:"smol-spacer"}),Object(p.jsx)(E.a,{variant:"light",onClick:this.handleClick,children:"Save"}),t]})}}]),n}(i.a.Component));function q(){return Object(p.jsx)("p",{className:"pop-in-out",style:{display:"inline"},children:"Saved!"})}function _(){return Object(p.jsx)("div",{className:"header-content text-center",children:Object(p.jsx)("h1",{children:"Project RedCedar"})})}var L=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"handleSelect",value:function(e){switch(e){case"queue":window.history.replaceState(void 0,"","/queue"),document.title="Queue - Project RedCedar";break;case"history":window.history.replaceState(void 0,"","/history"),document.title="History - Project RedCedar";break;case"settings":window.history.replaceState(void 0,"","/settings"),document.title="Settings - Project RedCedar";break;case"running":window.history.replaceState(void 0,"","/running"),document.title="Running - Project RedCedar"}}},{key:"render",value:function(){var e="running";switch(window.location.pathname){case"/queue":e="queue";break;case"/history":e="history";break;case"/settings":e="settings"}return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(_,{}),Object(p.jsxs)(j.a.Container,{id:"tab-nav",defaultActiveKey:e,transition:!1,onSelect:this.handleSelect,children:[Object(p.jsxs)(h.a,{fill:!0,variant:"pills",children:[Object(p.jsx)(h.a.Item,{children:Object(p.jsx)(h.a.Link,{eventKey:"running",children:"Running"})}),Object(p.jsx)(h.a.Item,{children:Object(p.jsx)(h.a.Link,{eventKey:"queue",children:"Queue"})}),Object(p.jsx)(h.a.Item,{children:Object(p.jsx)(h.a.Link,{eventKey:"history",children:"History"})}),Object(p.jsx)(h.a.Item,{children:Object(p.jsx)(h.a.Link,{eventKey:"settings",children:"Settings"})})]}),Object(p.jsx)("div",{className:"spacer"}),Object(p.jsxs)(j.a.Content,{children:[Object(p.jsx)(j.a.Pane,{eventKey:"running",mountOnEnter:!0,unmountOnExit:!0,children:Object(p.jsx)(C,{})}),Object(p.jsx)(j.a.Pane,{eventKey:"queue",mountOnEnter:!0,unmountOnExit:!0,children:Object(p.jsx)(N,{})}),Object(p.jsx)(j.a.Pane,{eventKey:"history",mountOnEnter:!0,unmountOnExit:!0,children:Object(p.jsx)(R,{})}),Object(p.jsx)(j.a.Pane,{eventKey:"settings",mountOnEnter:!0,unmountOnExit:!0,children:Object(p.jsx)(H,{})})]})]}),Object(p.jsx)("div",{className:"smol-spacer"})]})}}]),n}(i.a.Component),K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,79)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),s(e),r(e)}))};r.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(L,{})}),document.getElementById("root")),K()}},[[77,1,2]]]);
//# sourceMappingURL=main.5c535d84.chunk.js.map